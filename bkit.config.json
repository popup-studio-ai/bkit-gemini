{
  "$schema": "./bkit.config.schema.json",
  "version": "1.5.5",
  "platform": "gemini",

  "sourceDirectories": ["src", "lib", "app", "components", "pages", "features", "services"],
  "codeExtensions": [".ts", ".tsx", ".js", ".jsx", ".py", ".go", ".rs", ".java"],

  "pdca": {
    "designDocPaths": [
      "docs/02-design/features/{feature}.design.md",
      "docs/02-design/{feature}.design.md",
      "docs/design/{feature}.md"
    ],
    "planDocPaths": [
      "docs/01-plan/features/{feature}.plan.md",
      "docs/01-plan/{feature}.plan.md",
      "docs/plan/{feature}.md"
    ],
    "statusFile": "docs/.pdca-status.json",
    "matchRateThreshold": 90,
    "autoIterate": true,
    "maxIterations": 5
  },

  "taskClassification": {
    "thresholds": {
      "quickFix": 50,
      "minorChange": 200,
      "feature": 1000
    },
    "labels": {
      "quickFix": "Quick Fix",
      "minorChange": "Minor Change",
      "feature": "Feature",
      "majorFeature": "Major Feature"
    }
  },

  "levelDetection": {
    "enterprise": {
      "directories": ["kubernetes", "terraform", "k8s", "infra"],
      "files": []
    },
    "dynamic": {
      "directories": ["lib/bkend", "supabase", "api", "backend"],
      "files": [".mcp.json", "docker-compose.yml"],
      "packagePatterns": ["bkend", "@supabase", "firebase"]
    },
    "default": "Starter"
  },

  "templates": {
    "directory": "templates",
    "types": {
      "plan": "plan.template.md",
      "design": "design.template.md",
      "analysis": "analysis.template.md",
      "report": "report.template.md"
    },
    "levelVariants": {
      "starter": "{type}-starter.template.md",
      "enterprise": "{type}-enterprise.template.md"
    }
  },

  "conventions": {
    "naming": {
      "components": "PascalCase",
      "functions": "camelCase",
      "constants": "UPPER_SNAKE_CASE",
      "files": "kebab-case"
    },
    "envPrefixes": {
      "client": "NEXT_PUBLIC_",
      "database": "DB_",
      "api": "API_",
      "auth": "AUTH_",
      "smtp": "SMTP_",
      "storage": "STORAGE_"
    }
  },

  "agents": {
    "levelBased": {
      "Starter": "starter-guide",
      "Dynamic": "bkend-expert",
      "Enterprise": "enterprise-expert"
    },
    "taskBased": {
      "code review": "code-analyzer",
      "security scan": "code-analyzer",
      "design review": "design-validator",
      "gap analysis": "gap-detector",
      "report": "report-generator",
      "QA": "qa-monitor",
      "pipeline": "pipeline-guide"
    }
  },

  "output": {
    "jsonEscaping": true,
    "maxContextLength": 500,
    "format": "compact"
  },

  "permissions": {
    "write_file": "allow",
    "replace": "allow",
    "read_file": "allow",
    "run_shell_command": "allow",
    "run_shell_command(rm -rf*)": "deny",
    "run_shell_command(rm -r*)": "ask",
    "run_shell_command(git push --force*)": "deny",
    "run_shell_command(git reset --hard*)": "ask"
  },

  "compatibility": {
    "minGeminiCliVersion": "0.29.0",
    "testedVersions": ["0.29.0", "0.29.5", "0.29.7", "0.30.0-preview.3", "0.30.0"],
    "policyEngine": {
      "autoGenerate": true,
      "outputDir": ".gemini/policies/"
    }
  },

  "context": {
    "defaultForkBehavior": "shared",
    "importCacheTTL": 30000,
    "hierarchyCacheTTL": 5000
  },

  "automation": {
    "intentDetection": true,
    "ambiguityThreshold": 50,
    "supportedLanguages": ["en", "ko", "ja", "zh", "es", "fr", "de", "it"]
  },

  "hooks": {
    "beforeAgent": {
      "enabled": true,
      "timeout": 3000
    },
    "contextCompaction": {
      "enabled": true,
      "snapshotLimit": 10
    }
  },

  "outputStyles": {
    "default": "bkit-pdca-guide",
    "levelDefaults": {
      "Starter": "bkit-learning",
      "Dynamic": "bkit-pdca-guide",
      "Enterprise": "bkit-enterprise"
    },
    "available": ["bkit-learning", "bkit-pdca-guide", "bkit-enterprise", "bkit-pdca-enterprise"]
  },

  "agentMemory": {
    "enabled": true,
    "projectScope": ".gemini/agent-memory/bkit/",
    "userScope": "~/.gemini/agent-memory/bkit/",
    "maxSessionsPerAgent": 20,
    "agentScopes": {
      "starter-guide": "user",
      "pipeline-guide": "user",
      "default": "project"
    }
  },

  "team": {
    "enabled": false,
    "defaultStrategy": "dynamic",
    "strategies": {
      "dynamic": { "maxAgents": 3 },
      "enterprise": { "maxAgents": 5 },
      "custom": { "maxAgents": 10 }
    },
    "stateDir": ".gemini/teams/"
  },

  "contextHierarchy": {
    "enabled": true,
    "cacheTTL": 5000,
    "levels": ["plugin", "user", "project", "session"]
  },

  "skillOrchestrator": {
    "enabled": true,
    "autoImportTemplates": true,
    "autoCreateTasks": true,
    "agentDelegation": true
  }
}
